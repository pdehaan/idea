{"version":3,"sources":["src/validation.js"],"names":["validate","methods","_each","arr","callback","Array","prototype","forEach","call","formID","elements","opts","console","log","_form","document","getElementById","querySelector","inputs","querySelectorAll","input","addEventListener","event","classList","add","border","customMessage","getCustomMessage","appendValidationMsg","remove","setCustomValidity","checkValidity","errorElm","inputElement","message","parent","parentNode","errMsg","Error","textContent","validationMessage","validity","valueMissing","dataset","requirederror","patternMismatch","mismatch"],"mappings":"AAAA;;AACA;AAEA,IAAIA,QAAQ,GAAI,YAAY;AAC1B,MAAIC,OAAO,GAAG,EAAd;;AACA,MAAIC,KAAK,GAAG,SAARA,KAAQ,CAAUC,GAAV,EAAeC,QAAf,EAAyB;AACnCC,IAAAA,KAAK,CAACC,SAAN,CAAgBC,OAAhB,CAAwBC,IAAxB,CAA6BL,GAA7B,EAAkCC,QAAlC;AACD,GAFD;AAIF;;;;;;;;AAMAH,EAAAA,OAAO,CAACD,QAAR,GAAmB,UAAUS,MAAV,EAAkBC,QAAlB,EAAuC;AAAA,QAAXC,IAAW,uEAAJ,EAAI;AACtDC,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ,EADsD,CAGtD;;AACA,QAAIG,KAAK,GAAGC,QAAQ,CAACC,cAAT,CAAwBP,MAAxB,CAAZ;;AACA,QAAI,CAACK,KAAL,EAAY;AACVA,MAAAA,KAAK,GAAGC,QAAQ,CAACE,aAAT,CAAuB,MAAvB,CAAR;AACD;;AACD,QAAIC,MAAM,GAAGJ,KAAK,CAACK,gBAAN,CAAuBT,QAAvB,CAAb;;AACAR,IAAAA,KAAK,CAACgB,MAAD,EAAS,UAAUE,KAAV,EAAiB;AAC7BA,MAAAA,KAAK,CAACC,gBAAN,CAAuB,SAAvB,EAAkC,UAAUC,KAAV,EAAiB;AACjDF,QAAAA,KAAK,CAACG,SAAN,CAAgBC,GAAhB,CAAoBb,IAAI,CAACc,MAAL,IAAe,eAAnC;AACA;;AACA,YAAIC,aAAa,GAAGC,gBAAgB,CAACP,KAAD,CAApC;AACAQ,QAAAA,mBAAmB,CAACR,KAAD,EAAQM,aAAR,CAAnB;AACD,OALD,EAKG,KALH;AAOAN,MAAAA,KAAK,CAACC,gBAAN,CAAuB,MAAvB,EAA+B,UAAUC,KAAV,EAAiB;AAC9CF,QAAAA,KAAK,CAACG,SAAN,CAAgBM,MAAhB,CAAuBlB,IAAI,CAACc,MAAL,IAAe,eAAtC;AACAL,QAAAA,KAAK,CAACU,iBAAN,CAAwB,EAAxB;;AACA,YAAI,CAACV,KAAK,CAACW,aAAN,EAAL,EAA4B;AAC1BX,UAAAA,KAAK,CAACG,SAAN,CAAgBC,GAAhB,CAAoBb,IAAI,CAACc,MAAL,IAAe,eAAnC;AACA;;AACA,cAAIC,aAAa,GAAGC,gBAAgB,CAACP,KAAD,CAApC;AAEAQ,UAAAA,mBAAmB,CAACR,KAAD,EAAQM,aAAR,EAAuBf,IAAI,CAACqB,QAAL,IAAiB,IAAxC,CAAnB;AACD,SAND,MAMO;AACLJ,UAAAA,mBAAmB,CAACR,KAAD,EAAQ,GAAR,EAAaT,IAAI,CAACqB,QAAL,IAAiB,IAA9B,CAAnB,CADK,CACkD;AACxD;AACF,OAZD;AAaD,KArBI,CAAL;AAsBD,GA/BH;AAiCE;;;;;;;;AAMA,WAASJ,mBAAT,CAA8BK,YAA9B,EAA4CC,OAA5C,EAAqDF,QAArD,EAA+D;AAC7D,QAAIG,MAAM,GAAGF,YAAY,CAACG,UAA1B;AACA,QAAIC,MAAM,GAAGF,MAAM,CAAClB,aAAP,CAAqBe,QAAQ,IAAI,eAAjC,CAAb,CAF6D,CAG7D;;AACA,QAAI,CAACK,MAAL,EAAa;AACX,YAAM,IAAIC,KAAJ,sCAAN,CADW,CAEX;AACD;;AACDD,IAAAA,MAAM,KAAKA,MAAM,CAACE,WAAP,GAAqBL,OAAO,IAAID,YAAY,CAACO,iBAAlD,CAAN;AACD;;AAED,WAASb,gBAAT,CAA2BM,YAA3B,EAAyC;AACvC,QAAIA,YAAY,CAACQ,QAAb,CAAsBC,YAA1B,EAAwC;AACtCT,MAAAA,YAAY,CAACH,iBAAb,CAA+BG,YAAY,CAACU,OAAb,CAAqBC,aAArB,IAAsCX,YAAY,CAACO,iBAAlF;AACA,aAAOP,YAAY,CAACU,OAAb,CAAqBC,aAA5B;AACD,KAHD,MAGO,IAAIX,YAAY,CAACQ,QAAb,CAAsBI,eAA1B,EAA2C;AAChDZ,MAAAA,YAAY,CAACH,iBAAb,CAA+BG,YAAY,CAACU,OAAb,CAAqBG,QAArB,IAAiCb,YAAY,CAACO,iBAA7E;AACA,aAAOP,YAAY,CAACU,OAAb,CAAqBG,QAA5B;AACD,KAHM,MAGA;AACL,aAAO,KAAP;AACD;AACF;;AAED,SAAO7C,OAAP;AACD,CA3Ec,EAAf","file":"validation.64077471.js","sourceRoot":"..","sourcesContent":["/* eslint-disable no-undef */\r\n/* eslint-disable no-unused-vars */\r\n\r\nvar validate = (function () {\r\n  var methods = {}\r\n  var _each = function (arr, callback) {\r\n    Array.prototype.forEach.call(arr, callback)\r\n  }\r\n\r\n/**\r\n * @description Validate HTML5 forms\r\n * @param {*} formID the id for the form\r\n * @param {*} elements input elements `input, textarea, select` or input class-name(s) `.js-required`\r\n * @param {Object} opts options, input error class-name, error display element {errorClass: 'border-danger', errorElm: '.js-error-msg' }\r\n */\r\nmethods.validate = function (formID, elements, opts = {}) {\r\n    console.log(opts)\r\n\r\n    // Loop through them...\r\n    var _form = document.getElementById(formID)\r\n    if (!_form) {\r\n      _form = document.querySelector('form')\r\n    }\r\n    var inputs = _form.querySelectorAll(elements)\r\n    _each(inputs, function (input) {\r\n      input.addEventListener('invalid', function (event) {\r\n        input.classList.add(opts.border || 'border-danger')\r\n        /*  showing custom error message if we have in data attribute  */\r\n        var customMessage = getCustomMessage(input)\r\n        appendValidationMsg(input, customMessage)\r\n      }, false)\r\n\r\n      input.addEventListener('blur', function (event) {\r\n        input.classList.remove(opts.border || 'border-danger')\r\n        input.setCustomValidity('')\r\n        if (!input.checkValidity()) {\r\n          input.classList.add(opts.border || 'border-danger')\r\n          /*  showing custom error message if we have in data attribute  */\r\n          var customMessage = getCustomMessage(input)\r\n\r\n          appendValidationMsg(input, customMessage, opts.errorElm || null)\r\n        } else {\r\n          appendValidationMsg(input, '*', opts.errorElm || null) // reset the message\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * @param {*} inputElement\r\n   * @param {*} message\r\n   * @param {*} errorElm\r\n   */\r\n  function appendValidationMsg (inputElement, message, errorElm) {\r\n    var parent = inputElement.parentNode\r\n    var errMsg = parent.querySelector(errorElm || '.js-error-msg')\r\n    // errMsg.textContent = '*'\r\n    if (!errMsg) {\r\n      throw new Error(`Error: missing validation selector`)\r\n      // return confirm(message || inputElement.validationMessage)\r\n    }\r\n    errMsg && (errMsg.textContent = message || inputElement.validationMessage)\r\n  }\r\n\r\n  function getCustomMessage (inputElement) {\r\n    if (inputElement.validity.valueMissing) {\r\n      inputElement.setCustomValidity(inputElement.dataset.requirederror || inputElement.validationMessage)\r\n      return inputElement.dataset.requirederror\r\n    } else if (inputElement.validity.patternMismatch) {\r\n      inputElement.setCustomValidity(inputElement.dataset.mismatch || inputElement.validationMessage)\r\n      return inputElement.dataset.mismatch\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n\r\n  return methods\r\n})()\r\n"]}